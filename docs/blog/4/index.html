<!DOCTYPE html><html><head><title>jlam | MATLAB's command vs. function syntax</title><style>html {
    box-sizing: border-box;
    margin: 0;
    padding: 0.5rem;
}
body {
    max-width: 400pt;
    margin: 0 auto;
    padding: 0;
}</style><link rel="icon" href="/res/favicon.png"><meta name="viewport" content="width=device-width, initial-scale=1.0"></head><body><h1>Jonathan Lam</h1><p>EE/CS @ The Cooper Union</p><nav><a href="/">Home</a> | <a href="/faq">FAQ</a> | <a href="/contact">Contact</a> | <a href="/projects">Projects</a> | <a href="/res/resume.pdf" target="_blank">Resume</a> | <a href="http://files.lambdalambda.ninja">Files</a> | <a href="/blog">Blog</a> | <a href="http://eis.lambdalambda.ninja">EiS</a></nav><hr><h2>Blog</h2><h3>MATLAB's command vs. function syntax</h3><p>On Mon Apr 19 2021 16:44:39 GMT-0400 (Eastern Daylight Time)</p><p><a href="/blog">Return to blog</a></p><p>I felt compelled to write about this because I couldn't figure this out on my own in the three years of using MATLAB.</p><p>In the MATLAB examples, you'll often see something along the lines of:</p><pre>clc;
clear;
close all;

t = 1:10;
x = t.^2;
y = sin(t);

figure;
hold on;
plot(t, x);
plot(t, y);
hold off;
grid on;</pre><p>(This particular example is nonsense -- don't run it.)</p><p>This has always left me wondering: what the heck is <code>figure</code>, or <code>hold on</code>, or <code>grid on</code>, in terms of the grammar of MATLAB? Are they functions? Special keywords? Some sort of functor-like object? It makes me insecure in the same way as Ruby or Groovy made me feel with optional parentheses -- but this was easily resolved by looking up something along the lines of "Ruby optional parentheses." A Google search for "MATLAB optional parentheses" doesn't even bring up the correct term for this phenomenon on the first search page (first ten results): "command syntax."</p><p>It turns out the above example is exactly equivalent to:</p><pre>clc();
clear();
close('all');

t = 1:10;
x = t.^2;
y = sin(t);

figure();
hold('on');
plot(t, x);
plot(t, y);
hold('off');
grid('on');</pre><p>After looking at the transformed output, the basic rule should be fairly easy to tell. This "command syntax" is the same as a function call, where the arguments are space-delimited (rather than comma-delimited), and are passed in as character arrays.</p><p>It's important to note that the parameters are always converted to character arrays before the function invocation, so <code>grid 'on'</code> and <code>grid on</code> are equivalent. Another result of this is that command syntax doesn't work with named symbols: <code>stem x</code> will result in <code>stem('x')</code>, which is (probably) not what you intend to compute.</p><p>Another potential complication is that this can introduce grammatical ambiguities. The example stated in the documentation is <code>ls ./a</code>: if it is unknown whether <code>ls</code> is a function (in which this would mean the function call <code>ls('./a')</code>) or a variable (in which this would mean the elementwise division <code>ls ./ a</code>), then MATLAB has to do some guessing.</p><p>I'm not a fan of multiple syntax unless there's a good reason to allow it. Golang is a great example of constraining the syntax so that there's only one way to a given simple action, and it keeps the language wonderfully disambiguous and easy to learn, at the cost of a <em>little</em> concision. On the other hand, some languages like Javascript and Scala offer different syntaxes to separate imperative and functional approaches. I think the potential confusion in this MATLAB syntax is too high for the little convenience it offers (and same goes for many of Ruby-like optional syntaxes)<sup>1</sup>.</p><p>See <a href="https://www.mathworks.com/help/matlab/matlab_prog/command-vs-function-syntax.html">the documentation page</a> for more details.</p><sup>1. If I've learned anything from the compilers course, it's that optional or multi-branching parts of a grammar are really annoying to deal with, thus further promoting the superiority of LISP's LL(1) grammar.</sup><hr><p>&copy; Copyright 2021 Jonathan Lam</p></body></html>